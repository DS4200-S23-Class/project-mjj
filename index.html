<!DOCTYPE html>
<html> 

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css">

    <title>Massaschusetts Drought and Precipitation Data</title>

    <script src="js/d3.v6.1.1/d3.min.js"></script>
</head>


<body>

    <h1 class="centered">Diverting Droughts with Data: Designing a Visualization Tool to Drive Water Conservation Efforts Across Massachusetts</h1>

    <div>
        <h2>Motivation</h2>

        <div>
            <p>
            Water is a precious resource anywhere as it is used for many direct and indirect purposes such as drinking, cooking, producing steel for automobiles, and electricity. Specifically, we are interested in looking at water in the context of Massachusetts. In some areas of Massachusetts, there is currently a Level 2 Drought. It would be valuable to study past precipitation and drought levels in Massachusetts to get a better understanding of the water supply in conjuction with levels of drought. 
            </p>
            <p>
            This project is intended to provide visualizations to be used by the general public and citiznes of Massachusetts, making them more aware of this drought issue. Clearly, the state is already keeping watch on it and staying aware of it through the Massachusetts Drought Management Plan. However, the citizens should also be informed and aware so they can be encouraged to focus on water conservation. Even though our visualizations on provide past precipitation and drought data, it can make citizens more knowledgeable and aware of precipitation and drought levels in Massachusetts, specifically in the region they live in. From there, they can be more aware moving forward and possibly take preventative measures. The visualization will not be too complex as the public is not familiar with using lots of tooltips and other visualization features. We want the people in Massachusetts to conserve more water. They can use our visualizations to become more motivated as to exactly what state of water shortage specific regions in Massachusetts are in. 
            </p>
        </div> 

    </div>

    <div>
        <h2>Background</h2>
        <div>
            <!-- TODO: Add link to report, demo video, link to data etc. here*/ -->
            <h4>Data</h4>
            <div>
                <p>
                The precipitation database data is made available to the public on the Mass.gov website, which is owned by the Commonwealth of Massachusetts. The database that holds the data in the file has been monitored by the Massachusetts Department of Conservation and Recreation’s (DCR) Office of Water Resources. The website states that the precipitation data itself derives from observers and cooperative agencies. The standardized precipitation index (SDI) data is on the same website as the precipitation database data. The standardized precipitation index data is calculated monthly from values in the precipitation database data. Hence, it relies on data collected from the same sources of the precipitation database data. The link to the website with the raw data is here:
                <a href="https://www.mass.gov/info-details/precipitation-data">Precipitation and Drought Raw Data</a>
                </p>

                <p>The precipitation database data, especially since it’s derived from a government agency, overall seems reliable. However, there are some minor possible issues with how the data was collected. The Mass.gov website says about 60 precipitation observation stations collected the precipitation data, but there are no details on the identity and legitimacy of the observers themselves. Hence, it’s unclear whether the stations are reliable and provide accurate data. Furthermore, each station across the Massachusetts cities may be using different measurement tools with varying levels of precision and accuracy. Therefore, we cannot conclude whether the data is standardized. The cooperative agencies that are also referred to on the Mass.gov website have unknown identities. Thus, like the ambiguous observers, the precision, accuracy, and standardization of the agencies’ precipitation data cannot be verified. Furthermore, the precipitation measurements are rounded to two decimal places on the public dataset. There is a possibility that this level of precision may not allow us to make the most effective visualizations possible. The rounding restricts us from presenting the most detailed variation in precipitation patterns across Massachusetts (for example, a value of 2.883 inches of precipitation would be visualized the same way as 2.881 inches). Also, the measurement tools, observation stations, and cooperative agencies may have evolved, along with the precision and accuracy of the precipitation data. For instance, the cooperative agencies could have relied on tools in 1900 that were not as competent at collecting precipitation data as those used in 2015. Therefore, there’s a chance that precipitation data from older years such as 1900 may not be as accurate as that from more recent years such as 2015. Finally, each region in Massachusetts does not have the same amount of precipitation measurements in the data set. Some have more measurements than others, so our visualization could have more precise information about the precipitation pattern of regions in Massachusetts represented by more rows in the data set. There is a substantial amount of data for each region, but this consideration is still important to keep in mind. These same biases and ethical considerations apply to the SPI data since it derives from the precipitation database data. We will be relying on the 2017, 2018, and 2019 SPI data since they are the only ones available that most directly correlate with the precipitation database data we are using, which was generated in October 2019. The 2017-2019 SPI data might not contain the most representative values indicating the drought severity of a Massachusetts region. There might have been some weather anomalies throughout 2017-2019 that may have caused a region in Massachusetts to experience more or less precipitation during those years than usual. However, we are assuming the tools used to collect values for the precipitation database have improved over time. Hence, we think the 2017-2019 data is reliable since it was gathered only 4-6 years ago.
                </p>
            </div>
        </div>
    </div>

    <div>
        <h2>Visualization</h2>
        <!-- Create separate section for content (visualization) of webpage -->
        <div class="container">
            <!-- Legend for the visualization -->
            <div id="legend">
            </div>
            
            <!-- Create the section that contains the line chart -->
            <div id="vis1">
                <!-- Add chart title -->
                <h3 class="centered">Precipitation Over Selected Time and Regions</h3>
                <!-- Add checkbox filter for years -->
                <div class="year-filter">
                    <p>Filter by Year: </p>
<!--                     <select name="check" id="cars" multiple multiselect-select-all="true">
                      <option value="1">Audi</option>
                      <option selected value="2">BMW</option>
                      <option selected value="3">Mercedes</option>
                      <option value="4">Volvo</option>
                      <option value="5">Lexus</option>
                      <option value="6">Tesla</option>
                    </select> -->

                    <select name="check"></select>


                </div> 

                <!-- Add checkbox filter for regions -->
                <div class="region-filter">
                    <p>Filter by Region: </p>
                    <label for="Connecticut"><input type="checkbox" name="check" value="Connecticut River" class="region-button">Connecticut River</label>
                    <label for="Northeast"><input type="checkbox" name="check" value="Northeast" class="region-button">Northeast</label>
                    <label for="Central"><input type="checkbox" name="check" value="Central"class="region-button">Central</label>
                    <label for="Southeast"><input type="checkbox" name="check" value="Southeast" class="region-button">Southeast</label>
                    <label for="Western"><input type="checkbox" name="check" value="Western" class="region-button">Western</label>
                    <label for="Cape"><input type="checkbox" name="check" value="Cape Cod and Islands" class="region-button">Cape Cod and Islands</label>
                </div>
 
                <!-- Add checkbox filter for months -->
                <div class="month-filter">
                    <p>Filter by Month: </p>
                    <label for="January"><input type="checkbox" name="check" value="JAN" id="January" class="month-button">JAN</label> 
                    <label for="Februrary"><input type="checkbox" name="check" value="FEB" id="Februrary" class="month-button">FEB</label> 
                    <label for="March"><input type="checkbox" name="check" value="MAR" id="March" class="month-button">MAR</label> 
                    <label for="April"><input type="checkbox" name="check" value="APR" id="April" class="month-button">APR</label> 
                    <label for="May"><input type="checkbox" name="check" value="MAY" id="May" class="month-button">MAY</label> 
                    <label for="June"><input type="checkbox" name="check" value="JUN" id="June" class="month-button">JUN</label> 
                    <label for="July"><input type="checkbox" name="check" value="JUL" id="July" class="month-button">JUL</label> 
                    <label for="August"><input type="checkbox" name="check" value="AUG" id="August" class="month-button">AUG</label> 
                    <label for="September"><input type="checkbox" name="check" value="SEP" id="September" class="month-button">SEP</label> 
                    <label for="October"><input type="checkbox" name="check" value="OCT" id="October" class="month-button">OCT</label> 
                    <label for="November"><input type="checkbox" name="check" value="NOV" id="November" class="month-button">NOV</label> 
                    <label for="December"><input type="checkbox" name="check" value="DEC" id="December" class="month-button">DEC</label> 
                </div>
                <div>   
                    <p>
                        <button id="btn">Get Selected Year(s), Region(s), and Month(s)</button>
                    </p>
                </div>
            </div>

            <!-- Create the section that contains the map of Massachusetts -->
            <div id="vis2">
                <!-- Add chart title -->
                <h3 class="centered">Drought Severities Over Time and Regions</h3>
            </div>
            
            <!-- Create the section that contains the scatter graph-->
            <div id="vis3">
                <!-- Add chart title -->
                <h3 class="centered">A Projection of Whether Lower Precipitation Values Indicate a Higher Risk of Intense Droughts</h3>
                <!-- Add checkbox filter for years -->
                <div class="year-filter">
                    <p>Filter by Year: </p>
                    <label for="17"><input type="checkbox" name="check3" value="2017" class="year-button3">2017</label>
                    <label for="18"><input type="checkbox" name="check3" value="2018" class="year-button3">2018</label>
                    <label for="19"><input type="checkbox" name="check3" value="2019" class="year-button3">2019</label>
                </div>

                <!-- Add checkbox filter for regions -->
                <div class="region-filter">
                    <p>Filter by Region: </p>
                    <label for="Connecticut"><input type="checkbox" name="check3" value="Connecticut River" class="region-button3">Connecticut River</label>
                    <label for="Northeast"><input type="checkbox" name="check3" value="Northeast" class="region-button3">Northeast</label>
                    <label for="Central"><input type="checkbox" name="check3" value="Central"class="region-button3">Central</label>
                    <label for="Southeast"><input type="checkbox" name="check3" value="Southeast" class="region-button3">Southeast</label>
                    <label for="Western"><input type="checkbox" name="check3" value="Western" class="region-button3">Western</label>
                    <label for="Cape"><input type="checkbox" name="check3" value="Cape Cod and Islands" class="region-button3">Cape Cod and Islands</label>
                </div>

                <!-- Add checkbox filter for months -->
                <div class="month-filter">
                    <p>Filter by Month: </p>
                    <label for="January"><input type="checkbox" name="check3" value="JAN" id="January" class="month-button3">JAN</label> 
                    <label for="Februrary"><input type="checkbox" name="check3" value="FEB" id="Februrary" class="month-button3">FEB</label>
                    <label for="March"><input type="checkbox" name="check3" value="MAR" id="March" class="month-button3">MAR</label> 
                    <label for="April"><input type="checkbox" name="check3" value="APR" id="April" class="month-button3">APR</label> 
                    <label for="May"><input type="checkbox" name="check3" value="MAY" id="May" class="month-button3">MAY</label> 
                    <label for="June"><input type="checkbox" name="check3" value="JUN" id="June" class="month-button3">JUN</label> 
                    <label for="July"><input type="checkbox" name="check3" value="JUL" id="July" class="month-button3">JUL</label> 
                    <label for="August"><input type="checkbox" name="check3" value="AUG" id="August" class="month-button3">AUG</label> 
                    <label for="September"><input type="checkbox" name="check3" value="SEP" id="September" class="month-button3">SEP</label>
                    <label for="October"><input type="checkbox" name="check3" value="OCT" id="October" class="month-button3">OCT</label> 
                    <label for="November"><input type="checkbox" name="check3" value="NOV" id="November" class="month-button3">NOV</label> 
                    <label for="December"><input type="checkbox" name="check3" value="DEC" id="December" class="month-button3">DEC</label> 
                </div>
                <div>   
                    <p>
                        <button id="btn-3">Get Selected Year(s), Region(s), and Month(s)</button>
                    </p>
                </div>
            </div>
    
        </div>  
    </div>

    <div>
        <h2>Acknowledgements</h2>
        <ul>
            <li><a href="https://stackoverflow.com/questions/39964570/how-to-filter-data-with-d3-js">How to Filter Data with D3.js</a></li>
            <li><a href="https://stackoverflow.com/questions/12151637/jsrender-json-column-name-with-space">Referencing Column/Field Names with Space Characters</a></li>
            <li><a href="https://d3-graph-gallery.com/graph/line_basic.html">D3 Basic Line Chart</a></li>
            <li><a href="https://stackoverflow.com/questions/20668961/d3-how-do-i-remove-comma-separator-from-my-xaxis">Removing Comma Separator from X-Axis</a></li>
            <li><a href="https://observablehq.com/@d3/d3v6-migration-guide#group">D3 6.0 Migration Guide</a></li>
            <li><a href="https://github.com/d3/d3/issues/466">d3.format()(-1) yields "âˆ’1" with d3.min.js</a></li>
            <li><a href="https://d3-graph-gallery.com/graph/custom_legend.html">Legends in D3 Javascript</a>
            <li><a href="https://stackoverflow.com/questions/15044385/d3-map-with-checkbox-filtering">D3 Map With Checkbox Filtering</a></li>
            <li><a href="https://www.javascripttutorial.net/javascript-dom/javascript-checkbox/">Checkbox D3 Javascript</li>
            <li><a href="https://stackoverflow.com/questions/1771786/question-mark-and-colon-in-javascript">Conditional Operators</a></li>
            <li><a href="https://jonathansoma.com/lede/storytelling/d3/user-input-checkboxes-dropdowns/">User input (Checkboxes, Dropdowns, Radio Buttons)</a></li>
            <li><a href="https://stackoverflow.com/questions/2003815/how-to-remove-element-from-an-array-in-javascript">How to Remove and Element From an Array in JavaScript</a></li>
            <li><a href="https://www.w3schools.com/js/js_if_else.asp">Conditional Statements in JavaScript</a></li>
            <li><a href="https://www.w3schools.com/js/js_arrays.asp">JavaScript Arrays</a></li>
        </ul>
    </div>

    <script src="js/main.js"></script>
</body>

</html>